<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชู ุงูุชุณุฌูู ุจูุฌุงุญ - ุฌุงูุนุฉ ูุฌุฑุงู</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <header class="university-header">
        <div class="header-content">
            <h1>ุชู ุชุณุฌูู ุทูุจู ุจูุฌุงุญ ๐</h1>
            <p>ุดูุฑุงู ููุ ุชู ุญูุธ ุจูุงูุงุชู ูู ูุธุงู ุงูุฎุฒูุฉ</p>
        </div>
    </header>

    <main class="container">
        <div class="success-container">
            <div class="success-card">
                <div class="success-icon">
                    โ
                </div>
                
                <h2>ุชู ุงุณุชูุงู ุทูุจ ุญุฌุฒ ุงูุณูู</h2>
                <p class="success-message">
                    ุชู ุญูุธ ุจูุงูุงุชู ูู ุงูุฎุฒูุฉ ุงูุฅุฏุงุฑูุฉ ุจูุฌุงุญ ูุณูุชู ุงูููุงุถูุฉ ุจูู ุงูุทูุงุจ ุญุณุจ ุงููุนุฏู ูุงููุณุงูุฉ.
                </p>
                
                <div class="application-details" id="applicationDetails">
                    <!-- ุณูุชู ููุคูุง ุจูุงุณุทุฉ JavaScript -->
                </div>
                
                <div class="priority-notice">
                    <h3>๐ ุฃููููุฉ ุงูุญุฌุฒ:</h3>
                    <p>ุณูุชู ุชุฑุชูุจ ุงูุทูุงุจ ุญุณุจ:</p>
                    <ol>
                        <li>ุงูุฃุนูู ูุนุฏูุงู ุชุฑุงูููุงู (70% ูู ุงูููุงุท)</li>
                        <li>ุงูุฃุจุนุฏ ูุณุงูุฉ ุนู ุงูุฌุงูุนุฉ (30% ูู ุงูููุงุท)</li>
                    </ol>
                </div>
                
                <div class="vault-notice">
                    <h3>๐ ุงูุฎุฒูุฉ ุงูุฅุฏุงุฑูุฉ:</h3>
                    <p>ุฌููุน ุจูุงูุงุชู ูุญููุธุฉ ูู ุงูุฎุฒูุฉ ุงูุฅุฏุงุฑูุฉ ุงูุขููุฉ ุงูุชู ูููู ูููุฏูุฑ ุงููุตูู ุฅูููุง ููุท.</p>
                </div>
                
                <div class="actions">
                    <a href="index.html" class="btn-primary">ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ</a>
                    <button onclick="printPage()" class="btn-secondary">ุทุจุงุนุฉ ุงูุชุฃููุฏ</button>
                </div>
            </div>
            
            <div class="info-sidebar">
                <div class="info-card">
                    <h3>โน๏ธ ูุนูููุงุช ูุงูุฉ</h3>
                    <ul>
                        <li>ุงููุธุงู ูุญุชูุธ ุจู 50 ุทูุจุงู ููุท</li>
                        <li>ุงูุทูุจุงุช ุงูุฃุญุฏุซ ุชุญู ูุญู ุงูุฃูุฏู ุนูุฏ ุงููุตูู ููุญุฏ ุงูุฃูุตู</li>
                        <li>ุณูุชู ุงูุฅุนูุงู ุนู ุงููุชุงุฆุฌ ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</li>
                        <li>ูุฃู ุงุณุชูุณุงุฑ: housing@nu.edu.sa</li>
                    </ul>
                </div>
                
                <div class="counter-card">
                    <h3>๐ ุญุงูุฉ ุงูุฎุฒูุฉ</h3>
                    <div class="counter-number" id="vaultStatus">0/50</div>
                    <div class="counter-bar">
                        <div class="counter-fill" id="vaultFill"></div>
                    </div>
                    <p class="counter-text">ุทูุจุงุช ูุฎุฒูุฉ ุญุงููุงู</p>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <p>ยฉ 2024 ุฌุงูุนุฉ ูุฌุฑุงู - ูุธุงู ุงูุณูู ุงูุฌุงูุนู</p>
    </footer>

    <script src="js/vault.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ุงุณุชุฑุฌุงุน ุจูุงูุงุช ุงูุทุงูุจ ุงูุฃุฎูุฑ
            const studentData = JSON.parse(localStorage.getItem('lastRegisteredStudent'));
            const vault = new StudentVault();
            
            if (!studentData) {
                // ุฅุฐุง ูู ุชูุฌุฏ ุจูุงูุงุชุ ุงูุนูุฏุฉ ููุชุณุฌูู
                window.location.href = 'registration.html';
                return;
            }
            
            // ุนุฑุถ ุชูุงุตูู ุงูุทูุจ
            document.getElementById('applicationDetails').innerHTML = `
                <div class="detail-row">
                    <span class="detail-label">ุงูุงุณู:</span>
                    <span class="detail-value">${studentData.fullName}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">ุฑูู ุงููููุฉ:</span>
                    <span class="detail-value">${studentData.nationalId}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">ุงููุนุฏู:</span>
                    <span class="detail-value">${studentData.gpa}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">ุงููุญุงูุธุฉ:</span>
                    <span class="detail-value">${studentData.province}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">ุงูุชุฎุตุต:</span>
                    <span class="detail-value">${studentData.specialization}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">ุฑูู ุงูุทูุจ:</span>
                    <span class="detail-value">${studentData.id}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">ุชุงุฑูุฎ ุงูุชุณุฌูู:</span>
                    <span class="detail-value">${new Date(studentData.registrationDate).toLocaleString('ar-SA')}</span>
                </div>
            `;
            
            // ุชุญุฏูุซ ุญุงูุฉ ุงูุฎุฒูุฉ
            updateVaultStatus();
            
            function updateVaultStatus() {
                const count = vault.getApplicationsCount();
                document.getElementById('vaultStatus').textContent = `${count}/50`;
                
                const percentage = (count / 50) * 100;
                const fill = document.getElementById('vaultFill');
                fill.style.width = percentage + '%';
                
                if (count >= 50) {
                    fill.style.backgroundColor = '#dc3545';
                } else if (count >= 40) {
                    fill.style.backgroundColor = '#ffc107';
                }
            }
        });
        
        function printPage() {
            window.print();
        }
    </script>
</body>
</html>
